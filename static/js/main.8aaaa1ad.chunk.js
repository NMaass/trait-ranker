(this["webpackJsonptrait-ranker"]=this["webpackJsonptrait-ranker"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(40),s=n.n(i),a=n(9),o=n(17),u=n(10),j=n(173),l=n(174),b=n(175),O=n(176),d=n(177),h=n(178),x=n(179),f=n(180),m=n(181),g=n(182),p=n(183),v=n(2),y={"Guess the traits":Object(v.jsx)(j.g,{}),"Show the traits":Object(v.jsx)(l.a,{}),Artistry:Object(v.jsx)(b.s,{}),"Musical Skill":Object(v.jsx)(j.e,{}),Leadership:Object(v.jsx)(b.h,{}),Excellence:Object(v.jsx)(O.f,{}),"Self Control":Object(v.jsx)(O.j,{}),"Physical Appearance":Object(v.jsx)(b.e,{}),Independence:Object(v.jsx)(b.b,{}),Flexibility:Object(v.jsx)(b.w,{}),"Personal Space":Object(v.jsx)(O.k,{}),Rest:Object(v.jsx)(b.r,{}),Kindness:Object(v.jsx)(d.d,{}),Recreation:Object(v.jsx)(O.l,{}),Strength:Object(v.jsx)(O.e,{}),Wisdom:Object(v.jsx)(O.g,{}),Empathy:Object(v.jsx)(O.c,{}),Trust:Object(v.jsx)(h.a,{}),Spontaneity:Object(v.jsx)(x.a,{}),Adventure:Object(v.jsx)(b.q,{}),Integrity:Object(v.jsx)(O.i,{}),Generosity:Object(v.jsx)(O.m,{}),Patience:Object(v.jsx)(O.a,{}),Perseverance:Object(v.jsx)(b.p,{}),Mercy:Object(v.jsx)(b.j,{}),Romance:Object(v.jsx)(b.k,{}),Athleticism:Object(v.jsx)(b.n,{}),"Constructive Criticism":Object(v.jsx)(O.h,{}),Productivity:Object(v.jsx)(b.i,{}),Nature:Object(v.jsx)(j.c,{}),Peace:Object(v.jsx)(j.f,{}),Determination:Object(v.jsx)(f.c,{}),Resourcefulness:Object(v.jsx)(m.b,{}),Authority:Object(v.jsx)(d.c,{}),Hope:Object(v.jsx)(b.l,{}),Challenge:Object(v.jsx)(b.f,{}),Decisiveness:Object(v.jsx)(b.d,{}),Comfort:Object(v.jsx)(b.u,{}),Joy:Object(v.jsx)(x.c,{}),Fairness:Object(v.jsx)(m.a,{}),Affection:Object(v.jsx)(f.g,{}),Confidence:Object(v.jsx)(j.a,{}),Respect:Object(v.jsx)(f.e,{}),Discipline:Object(v.jsx)(j.b,{}),Frugality:Object(v.jsx)(f.f,{}),Suffering:Object(v.jsx)(d.a,{}),"Child-likeness":Object(v.jsx)(f.a,{}),Optimism:Object(v.jsx)(g.a,{}),Ambition:Object(v.jsx)(p.a,{}),Craftsmanship:Object(v.jsx)(f.k,{}),Vulnerability:Object(v.jsx)(j.d,{}),Family:Object(v.jsx)(O.d,{}),Boldness:Object(v.jsx)(b.m,{}),Caution:Object(v.jsx)(d.b,{}),Confrontation:Object(v.jsx)(b.f,{}),Charisma:Object(v.jsx)(f.d,{}),Ingenuity:Object(v.jsx)(m.b,{}),Teachability:Object(v.jsx)(f.l,{}),Pessimism:Object(v.jsx)(f.j,{}),Loyality:Object(v.jsx)(b.v,{}),"Self-Improvement":Object(v.jsx)(b.o,{}),Creativity:Object(v.jsx)(b.t,{}),Realism:Object(v.jsx)(x.b,{}),Enthusiasm:Object(v.jsx)(b.g,{}),"Self-care":Object(v.jsx)(O.b,{}),Spirituality:Object(v.jsx)(b.o,{}),Detachment:Object(v.jsx)(b.c,{}),Vision:Object(v.jsx)(b.a,{}),Simplicity:Object(v.jsx)(f.i,{}),"Open-mindedness":Object(v.jsx)(f.b,{}),Contentment:Object(v.jsx)(f.h,{})},k=["Adventure","Ambition","Athleticism","Artistry","Boldness","Caution","Charisma","Confrontation","Contentment","Craftsmanship","Creativity","Decisiveness","Detachment","Discipline","Empathy","Enthusiasm","Flexibility","Frugality","Independence","Ingenuity","Musical Skill","Loyality","Open-mindedness","Optimism","Patience","Perseverance","Personal Space","Physical Appearance","Realism","Romance","Self-care","Spirituality","Simplicity","Teachability","Vision","Vulnerability"];function C(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}var S={traits:k,columns:{column1:{id:"column1",title:"Not Valued",traitIds:[]},column2:{id:"column2",title:"Traits",traitIds:C(k)},column3:{id:"column3",title:"Valued",traitIds:[]},guessing:{id:"guessing",title:"guessing",traitIds:[]}},columnOrder:["column1","column2","column3"]},I=n(3),w=n(7);function T(e){for(var t="",n="0123456789",r=n.length,c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*r));return t}var D=n(197),R=n(194),P=n(198),A=n(196),L=n(38),E=n.n(L),G=n(90),z=n.n(G);E.a.init("e338ea1bac5ef125937525a304521900",{debug:!1}),z.a.init("zwugvl/trait-ranker"),z.a.getSessionURL((function(e){E.a.track("LogRocket",{sessionURL:e})}));var F=function(e){var t=e.text,n=Object(r.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)(!1),o=Object(u.a)(a,2),j=o[0],l=o[1];return Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",spacing:2,children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(R.a,{title:"Copied to clipboard!",open:i,leaveDelay:1e3,onClose:function(){s(!1)},children:Object(v.jsx)(P.a,{variant:"contained",onClick:function(){E.a.track("Shared"),navigator.share?navigator.share({text:"Take a look at my most valued traits",url:t}).then((function(){return console.log("successful share")})).catch((function(e){return console.log("error sharing",e)})):(navigator.clipboard.writeText(t).then((function(){return console.log("Copied!")})).catch((function(){return console.log("Copy failed")})),s(!0),l(!0))},children:"Share"})})}),j&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(A.a,{children:t})})]})},N=n(105),M=n(50),J=Object(N.a)({apiKey:"AIzaSyBGLwRSqZ-ZO8O7t2Jx0J0ZNq9P5MgzkJ0",authDomain:"trait-ranker.firebaseapp.com",projectId:"trait-ranker",storageBucket:"trait-ranker.appspot.com",messagingSenderId:"387696334301",appId:"1:387696334301:web:e7d512845f69e5a2e25234",measurementId:"G-K0FPHGRC6R"}),H=Object(M.c)(J);function B(e,t){return V.apply(this,arguments)}function V(){return(V=Object(w.a)(Object(I.a)().mark((function e(t,n){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.d)(Object(M.a)(H,"Traits",t),{traits:n}).catch((function(e){console.log(e)}));case 2:console.log(Object(M.a)(H,"Traits",t),n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(w.a)(Object(I.a)().mark((function e(t){var n,r,c;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(M.a)(H,"Traits",t),e.next=3,Object(M.b)(n);case 3:if(!(r=e.sent).exists()){e.next=10;break}return c=r.data().traits,console.log(c),e.abrupt("return",c);case 10:console.log("no doc");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K,U=n(200),W=n(202),Q=n(0),X=function(e){var t=e.trait,n=e.index,c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],a=i[1],o=Object(r.useState)(!1),j=Object(u.a)(o,2),l=j[0],b=j[1];return Object(r.useEffect)((function(){setTimeout((function(){b(!0),setTimeout((function(){return a(t)}),500)}),500*n)})),Object(v.jsx)(U.a,{className:"wideCard ".concat(l&&"flip"),style:{margin:".5vw"},children:Object(v.jsx)(W.a,{children:Object(v.jsxs)(D.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{marginTop:"-8vw"},children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Q.b.Provider,{value:{size:"9vw"},children:y[s]})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:s})})]})})})},Y=function(e){var t=e.traits;return Object(v.jsx)(D.a,{container:!0,justifyContent:"center",alignItems:"center",children:t.slice(0,7).map((function(e,t){return Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(X,{trait:e,index:t})})}))})},$=function(e){var t=e.topTraits,n=e.userID;return Object(r.useEffect)((function(){!function(e){E.a.track("Results Step",{steps:3}),E.a.track("Ranked Traits",{"top traits":e})}(t),Object(w.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setting traits",t),e.next=3,B(n,t);case 3:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",style:{height:"100vh"},children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:"Top Traits"})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Y,{traits:t.reverse()})}),Object(v.jsx)(D.a,{item:!0,sx:{padding:"1rem"},children:Object(v.jsx)(F,{text:"https://nmaass.github.io/trait-ranker/#/Share/"+n})})]})},_=(n(85),n(190)),ee=n(78),te=function(e){var t=e.trait,n=e.onClick,r=Object(_.a)("(min-width:1024px"),i=c.a.useRef(null);return Object(v.jsxs)("div",{className:"card rankCard",onClick:n,onMouseDown:function(e){i.current.start(e)},onMouseUp:function(e){i.current.stop(e)},children:[Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h1",{children:t})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Q.b.Provider,{value:r?{size:"6vw"}:{size:"20vw"},children:y[t]})})]}),Object(v.jsx)(ee.a,{ref:i,center:!1})]})},ne=n(191),re=n(203),ce=function(e){var t=e.stringArray,n=(e.variant,Object(r.useState)(t[0])),c=Object(u.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)(!0),o=Object(u.a)(a,2),j=o[0],l=o[1],b=3e3,O=Object(_.a)("(min-width:1024px)");return Object(r.useEffect)((function(){var e=0;setInterval((function(){l((function(e){return!e}))}),b),setInterval((function(){e!==t.length-1?(e++,s(t[e])):s("")}),6e3)}),[]),Object(v.jsx)(ne.a,{in:j,timeout:{enter:5700,exit:5700},children:Object(v.jsx)(re.a,{sx:{minHeight:"1.9rem",marginTop:"8vh",position:"absolute",width:"100%"},align:"center",variant:O?"h3":"h5",children:i})})},ie=function(e){var t=e.topTraits,n=e.setTopTraits,i=e.history,s=(e.finalList,c.a.useState(t.slice(0,2))),a=Object(u.a)(s,2),o=a[0],j=a[1],l=Object(r.useRef)([]),b=Object(r.useRef)([]),O=Object(r.useRef)([]),d=Object(r.useRef)([]),h=Object(r.useRef)([]),x=Object(r.useRef)(0),f=Object(r.useRef)(0),m=Object(r.useRef)([]),g=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=t;j(e.slice(0,2)),e.length%2&&(g.current=e.pop());for(var n=0;n<e.length;n+=2)l.current.push([e[n],e[n+1]])}),[]);var p=function(e){console.log("pick: "+e);var t=m.current.length;t>6&&(console.log("the list length:",t),m.current=m.current.slice(t-7)),0!==d.current.length?k(e):0!==h.current.length&&C(e),0!==l.current.length&&y(e),h.current.some((function(e){return e.length}))||0!==l.current.length||(0===b.current.length?(n(m.current),console.log("finished the list"+m.current),i.push("/Results")):S(b.current[0])),console.log("initialPairs: ",l.current),console.log("sortedPairs: ",b.current),console.log("finished list: ",m.current),console.log("Join stack: ",d.current),console.log("mergeStack",h.current)},y=function(e){e===l.current[0][0]&&(l.current[0].reverse(),console.log("reversed ",l.current[0])),b.current.push(l.current.shift()),j(l.current[0]),2===l.current.length&&(null!==g.current?(m.current.push(g.current),console.log("Prepping for round uneven")):(m.current=b.current.shift(),console.log("Prepping for round 2")))},k=function(e){2===d.current.length?e===O.current[0]?(m.current=m.current.concat(O.current),T()):(d.current.shift(),j(d.current[0])):e===O.current[1]?(d.current=[],j(h.current[0][0])):(m.current=O.current.concat(m.current),T())},C=function(e){o[0]===O.current[0]?(e!==o[0]?(m.current.splice(x.current,0,O.current[0]),h.current[0]=[]):(h.current[0].shift(),x.current++,console.log("leftGuess ",x.current),0===h.current[0].length&&(m.current.splice(x.current,0,O.current[0]),h.current[0].shift())),0!==h.current[1].length?j(h.current[1][0]):j(h.current[0][0])):(e===o[0]?(m.current.splice(f.current+1,0,O.current[1]),h.current[1]=[]):(h.current[1].shift(),f.current--,console.log("rightGuess ",f.current),0===h.current[1].length&&(m.current.splice(f.current+1,0,O.current[1]),h.current[1].shift())),0!==h.current[0].length?j(h.current[0][0]):j(h.current[1][0]))},S=function(e){console.log("building round 2"),I(e),w(e),O.current=b.current.shift(),x.current=0,f.current=m.current.length},I=function(e){d.current.push([e[0],m.current[m.current.length-1]]),d.current.push([e[1],m.current[0]]),j(d.current[0]),console.log("Initial Join stack: ",d.current)},w=function(e){for(var t=[],n=[],r=0;r<m.current.length;r++)t.push([e[0],m.current[r]]);for(var c=m.current.length-1;c>=0;c--)n.push([e[1],m.current[c]]);h.current=[t,n],console.log("initial mergeStack",h.current)},T=function(){d.current=[],h.current=[],O.current=[]},R=Object(_.a)("(min-width:1024px)");return Object(r.useEffect)((function(){!function(e){E.a.track("Ranking Step",{steps:2}),E.a.track("Selected Traits",{"chosen traits":e})}(t)}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"rankingFade",children:Object(v.jsx)(ce,{stringArray:["".concat(R?"Click":"Tap"," on the trait you value more")]})}),Object(v.jsxs)(D.a,{container:!0,spacing:R?60:3,alignItems:"center",justifyContent:"center",direction:R?"row":"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){return p(o[0])},trait:o[0]})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){return p(o[1])},trait:o[1]})})]})]})},se=n(206),ae=n(207),oe=n(208),ue=n(204),je=n(195),le=n(205),be=n(106),Oe=n.n(be),de=function(){var e=c.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(ue.a,{size:"large",onClick:function(){r(!0)},children:Object(v.jsx)(Oe.a,{})}),Object(v.jsx)(je.a,{onClose:function(){r(!1)},open:n,maxWidth:"xl",style:{borderRadius:0},children:Object(v.jsxs)(le.a,{paragraph:!1,style:{margin:"24px"},children:[Object(v.jsx)("br",{}),"1. Drag traits to the left or right depending on whether you value them.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"2. Click on the traits you value more.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"3. Click the share buttons to show your friends!",Object(v.jsx)("br",{})]})})]})},he=function(e){var t=e.history;return Object(v.jsx)(P.a,{color:"inherit",onClick:function(){t.push("/")},children:"Trait Ranker"})},xe=function(e){var t=e.history;return Object(v.jsx)(se.a,{sx:{flexGrow:1},children:Object(v.jsx)(ae.a,{position:"fixed",children:Object(v.jsxs)(oe.a,{children:[Object(v.jsx)(he,{history:t}),Object(v.jsx)("div",{style:{marginLeft:"auto"},children:Object(v.jsx)(de,{})})]})})})},fe=n(25),me=n(88),ge=n(41),pe=n(44),ve=n(55),ye=function(e){var t=e.trait,n=e.provided,r=Object(_.a)("(min-width:1024px");return Object(v.jsx)("div",Object(o.a)(Object(o.a)({className:"card selection"},n.dragHandleProps),{},{draggable:!0,id:t,children:Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h1",{children:t})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Q.b.Provider,{value:r?{size:"6vw"}:{size:"60vw"},children:y[t]})})]})}))},ke=ve.a.div(K||(K=Object(ge.a)([""])));function Ce(e,t){if(e=function(e){if(null!==e&&void 0!==e&&e.transform){var t="".concat(e.transform.split(",").shift(),", 0px)");return Object(o.a)(Object(o.a)({},e),{},{transform:t})}return e}(e),!t.isDropAnimating)return e;var n=t.dropAnimation,r=n.moveTo,c=n.duration,i=t.draggingOver;console.log(i);var s=0;"column1"===i?s=-100:"column3"===i&&(s=100);var a="translate(".concat(s,"vw, ").concat(r.y,"px)");return Object(o.a)(Object(o.a)({},e),{},{transform:a,transition:"all  ".concat(c+.2,"s")})}var Se,Ie,we,Te=function(e){var t=e.trait,n=e.index;return Object(v.jsx)(pe.b,{draggableId:t,index:n,children:function(e,n){return Object(v.jsx)(ke,Object(o.a)(Object(o.a)({},e.draggableProps),{},{ref:e.innerRef,isDragging:n.isDragging,style:Ce(e.draggableProps.style,n),children:Object(v.jsx)(ye,{trait:t,provided:e})}))}},t)},De=(ve.a.div(Se||(Se=Object(ge.a)(["\n  display: flex;\n"]))),ve.a.div(Ie||(Ie=Object(ge.a)(["\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  display: flex;\n  min-width: ",";\n  min-height: 100vh;\n  max-width: ",";\n"])),(function(e){return e.isDraggingOver?e.hoverColor:"white"}),(function(e){return e.isStarter?"1px":"49.9vw"}),(function(e){return e.isStarter&&"1px"}))),Re=function(e){var t=e.column,n=e.isStarter,r=void 0!==n&&n,c=e.hoverColor,i=void 0===c?"lightBlue":c;return Object(v.jsx)(pe.c,{droppableId:t.id,direction:"horizontal",children:function(e,n){return Object(v.jsx)(De,Object(o.a)(Object(o.a)({classname:"cards stack",ref:e.innerRef,isStarter:r,hoverColor:i,isDraggingOver:n.isDraggingOver},e.droppableProps),{},{children:Object(v.jsx)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(v.jsxs)(D.a,{item:!0,margin:"auto",children:[r&&Object(v.jsx)(Te,{trait:null===t||void 0===t?void 0:t.traitIds[0],index:null===t||void 0===t?void 0:t.traitIds.indexOf(null===t||void 0===t?void 0:t.traitIds[0])},null===t||void 0===t?void 0:t.traitIds[0]),e.placeholder]})})}))}},t.id)},Pe=function(e){var t=e.columnData,n=e.setTopTraits,c=e.history,i=e.swipeHandlers,s=e.topTraits,a=Object(_.a)("(min-width:1024px");Object(r.useEffect)((function(){console.log("currentTraits: ",t.columns.column2.traitIds),console.log("top traits: ",t.columns.column3.traitIds),0===t.columns.column2.traitIds.length&&s&&(console.log(t.columns.column3.traitIds),n(t.columns.column3.traitIds),console.log("setting traits from selection"),c.push("/Rank"))}),[t,c,n,s]);var u=["".concat(a?"Drag":"Swipe "," right to like, left to pass."),"Press the ? button at any time to see an example."];return Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce,{stringArray:u}),Object(v.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{children:Object(v.jsxs)(D.a,{container:!0,spacing:0,wrap:"nowrap",children:[Object(v.jsx)(Re,{column:t.columns.column1,hoverColor:"LightPink"},t.columns.column1.id),Object(v.jsx)(Re,{column:t.columns.column2,isStarter:!0},t.columns.column2.id),Object(v.jsx)(Re,{column:t.columns.column3,hoverColor:"LightGreen"},t.columns.column3.id)]})}))]})},Ae=n(112),Le=function(e){var t=e.trait,n=e.index,c=e.color,i=e.isDraggable,s=Object(r.useState)(""),a=Object(u.a)(s,2),j=a[0],l=a[1],b=Object(r.useState)(""),O=Object(u.a)(b,2),d=O[0],h=O[1],x=Object(r.useRef)(!0);return Object(r.useEffect)((function(){1!=x.current?(setTimeout((function(){l(!0),setTimeout((function(){return h(c)}),250)}),500*n),l(!1)):x.current=!1}),[c]),Object(v.jsx)(pe.b,{draggableId:t,index:n,isDragDisabled:!i,children:function(e){return Object(v.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},e.dragHandleProps),e.draggableProps),{},{ref:e.innerRef,children:Object(v.jsx)(U.a,{className:"wideCard ".concat(j?"bounce":""),sx:{backgroundColor:d},children:Object(v.jsx)(D.a,{container:!0,justifyContent:"center",children:Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:t})})})})}))}})},Ee=ve.a.div(we||(we=Object(ge.a)([""]))),Ge=function(e){var t=e.column,n=e.colors,r=e.isDraggable;return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"rankingFade",style:{marginBottom:"2vh"},children:Object(v.jsx)(ce,{stringArray:["Rearrange to the guess list order"]})}),Object(v.jsx)(pe.c,{droppableId:t.id,children:function(e,c){return Object(v.jsx)(Ee,Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:c.isDraggingOver,children:Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[t.traitIds.map((function(e,c){return Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Le,{trait:e,index:t.traitIds.indexOf(e),color:n[c],isDraggable:r})},e)})),e.placeholder]})}))}},t.id)]})},ze=function(e){var t=e.history,n=e.source;return Object(v.jsx)(P.a,{onClick:function(){!function(e){E.a.track("Share Conversion",{Source:e})}(n),t.replace("/")},variant:"contained",children:"Try it!"})},Fe=function(e){var t=e.column,n=e.onDone,r=e.colors,c=e.showTryIt,i=e.history,s=e.isDraggable,a=e.showLockIn;return Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Ge,{column:t,colors:r,isDraggable:s})}),Object(v.jsxs)(D.a,{item:!0,sx:{paddingTop:"4vh"},children:[a&&Object(v.jsx)(P.a,{onClick:n,variant:"contained",children:"Lock in"}),c&&Object(v.jsx)(ze,{history:i})]})]})},Ne=function(e){var t=e.traits,n=e.columnData,c=e.setColumnData,i=e.history,s=Object(r.useRef)(C(t.slice(0,7))),a=Object(r.useRef)([]),j=S.columns.column2.traitIds,l=Object(r.useRef)([]),b=Object(r.useState)([]),O=Object(u.a)(b,2),d=O[0],h=O[1],x=Object(r.useState)(!0),f=Object(u.a)(x,2),m=f[0],g=f[1],p=Object(r.useState)([]),y=Object(u.a)(p,2),k=y[0],I=y[1],w=Object(r.useState)(!0),T=Object(u.a)(w,2),R=T[0],P=T[1],A=Object(r.useState)(!1),L=Object(u.a)(A,2),G=L[0],z=L[1],F=Object(r.useState)(!1),N=Object(u.a)(F,2),M=N[0],J=N[1],H=Object(r.useState)(!0),B=Object(u.a)(H,2),V=B[0],q=B[1];Object(r.useEffect)((function(){for(;a.current.length<7;)s.current.includes(j[0])||a.current.push(j[0]),j=j.splice(1,j.length);K()}),[j]);var Z=function(e){if(l.current.push(e),0===s.current.length){var t=Object(o.a)(Object(o.a)({},n.columns.guessing),{},{traitIds:l.current}),r=Object(o.a)(Object(o.a)({},n),{},{columns:Object(o.a)(Object(o.a)({},n.columns),{},{guessing:t})});c(r),i=r.columns.guessing,E.a.track("Guessed",{"Guessed traits":i}),z(!0),P(!1)}var i;K()},K=function(){I(C([s.current.pop(),a.current.pop()])),console.log("TraitsLeft: ",s.current),console.log("WrongTaits: ",a.current),console.log(l.current)},U=Object(_.a)("(min-width:1024px)");return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"rankingFade",style:{marginTop:"-12vh"},children:Object(v.jsx)(ce,{stringArray:["Select the traits actually in the list.","Press the ? button at any time to see an example."]})}),R&&Object(v.jsxs)(D.a,{container:!0,spacing:U?60:3,alignItems:"center",justifyContent:"center",direction:U?"row":"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){return Z(k[0])},trait:k[0]})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){return Z(k[1])},trait:k[1]})})]}),G&&Object(v.jsx)(Fe,{column:n.columns.guessing,onDone:function(){console.log("done!");for(var e=[],r=t.slice(0,7),c=n.columns.guessing.traitIds,i=0;i<r.length;i++)r[i]===c[i]?(e.push("green"),console.log("correct",r[i],c[i])):r.includes(c[i])?(e.push("gold"),console.log("in there",r[i],c[i])):(e.push("LightGray"),console.log("incorrect",r[i],c[i]));h(e),J(!0),q(!1),g(!1)},colors:d,showTryIt:M,showLockIn:V,history:i,isDraggable:m})]})},Me=function(e){var t=e.columnData,n=e.setColumnData,c=e.history,i=Object(fe.f)().id,s=Object(r.useState)([]),a=Object(u.a)(s,2),o=a[0],j=a[1],l=Object(r.useState)(!1),b=Object(u.a)(l,2),O=b[0],d=b[1],h=Object(r.useState)(!1),x=Object(u.a)(h,2),f=x[0],m=x[1],g=Object(r.useState)(!0),p=Object(u.a)(g,2),y=p[0],k=p[1],C=Object(_.a)("(min-width:1024px)");Object(r.useEffect)((function(){Object(w.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(i).then((function(e){j(e)}));case 2:case"end":return e.stop()}}),e)})))()}),[i]);return console.log("storedTraits",o),Object(v.jsxs)(D.a,{container:!0,spacing:C?60:3,alignItems:"center",justifyContent:"center",direction:C?"row":"column",children:[y&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){E.a.track("Guess Traits"),m(!0),k(!1)},trait:"Guess the traits"})}),y&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(te,{onClick:function(){E.a.track("Show Traits"),d(!0),k(!1)},trait:"Show the traits"})}),O&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(re.a,{variant:C?"h3":"h5",color:"black",children:"Top traits"})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Y,{traits:o})}),Object(v.jsx)(D.a,{item:!0,style:{marginTop:"5vw"},children:Object(v.jsx)(ze,{history:c,source:"Guess"})})]})}),f&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Ne,{traits:o,columnData:t,setColumnData:n,history:c})})]})},Je=n(110),He=n(93),Be=n.n(He),Ve=function(){var e=Object(fe.e)(),t=Object(r.useState)(S),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)([]),j=Object(u.a)(s,2),l=j[0],b=j[1],O=Object(r.useState)(function(e){var t=T(e);return E.a.track("Session Start",{steps:1}),E.a.people.increment("sessions",1),t}(8)),d=Object(u.a)(O,2),h=d[0],x=(d[1],Object(r.useRef)(null));Ae.a.initialize("G-4RLGL8ENZC");function f(e){var t=x.current;if(!t)return console.warn("unable to find sensor api"),null;var n={x:0,y:0},r={x:"right"===e?100:-100,y:0},i=t.tryGetLock(c.columns.column2.traitIds[0]);if(!i)return console.warn("unable to start capturing"),null;for(var s=i.fluidLift(n),a=[],o=0;o<20;o++)a.push({x:Be.a.easeOutCirc(o,n.x,r.x,20),y:Be.a.easeOutCirc(o,n.y,r.y,20)});g(s,a)}var m=Object(Je.a)({onSwipedLeft:function(){console.log("left swiped"),f("left")},onSwipedRight:function(){console.log("right swiped"),f("right")}});function g(e,t){requestAnimationFrame((function(){var n=t.shift();e.move(n),t.length?g(e,t):e.drop()}))}return Object(r.useEffect)((function(){window.addEventListener("touchmove",(function(e){e.preventDefault()}))}),[]),Object(v.jsx)("div",{children:Object(v.jsxs)(pe.a,{onDragEnd:function(e){var t,n=e.destination,r=e.source,s=e.draggableId;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)){var u=c.columns[r.droppableId],j=c.columns[n.droppableId];if(u!==j){var l=Array.from(u.traitIds);l.splice(r.index,1);var b=Object(o.a)(Object(o.a)({},u),{},{traitIds:l}),O=Array.from(j.traitIds);O.splice(n.index,0,s);var d=Object(o.a)(Object(o.a)({},j),{},{traitIds:O}),h=Object(o.a)(Object(o.a)({},c),{},{columns:Object(o.a)(Object(o.a)({},c.columns),{},(t={},Object(a.a)(t,b.id,b),Object(a.a)(t,d.id,d),t))});i(h)}else{var x=Array.from(u.traitIds);x.splice(r.index,1),x.splice(n.index,0,s);var f=Object(o.a)(Object(o.a)({},u),{},{traitIds:x}),m=Object(o.a)(Object(o.a)({},c),{},{columns:Object(o.a)(Object(o.a)({},c.columns),{},Object(a.a)({},f.id,f))});i(m)}}},sensors:[function(e){x.current=e}],children:[Object(v.jsx)(xe,{history:e}),Object(v.jsx)(fe.a,{exact:!0,path:"/",children:Object(v.jsx)(Pe,{columnData:c,topTraits:l,setTopTraits:b,setColumnData:i,history:e,swipeHandlers:m})}),Object(v.jsx)(fe.a,{path:"/Rank",children:Object(v.jsx)(ie,{topTraits:l,setTopTraits:b,history:e})}),Object(v.jsx)(fe.a,{path:"/Results",children:Object(v.jsx)($,{topTraits:l,setTopTraits:b,userID:h})}),Object(v.jsx)(fe.a,{path:"/Share/:id",children:Object(v.jsx)(Me,{columnData:c,setColumnData:i,history:e})})]})})},qe=function(){return Object(v.jsx)(me.a,{basename:"/trait-ranker",children:Object(v.jsx)(Ve,{})})};s.a.render(Object(v.jsx)(qe,{}),document.querySelector("#root"))},85:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.8aaaa1ad.chunk.js.map