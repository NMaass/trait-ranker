(this["webpackJsonptrait-ranker"]=this["webpackJsonptrait-ranker"]||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(43),a=n.n(i),s=n(10),o=n(16),l=n(8),j=n(190),u=n(191),b=n(192),d=n(193),O=n(194),h=n(195),f=n(196),x=n(197),p=n(198),g=n(199),m=n(200),v=n(2),y={"Guess the traits":Object(v.jsx)(j.g,{}),"Show the traits":Object(v.jsx)(u.a,{}),Artistry:Object(v.jsx)(b.s,{}),"Musical Skill":Object(v.jsx)(j.e,{}),Leadership:Object(v.jsx)(b.h,{}),Excellence:Object(v.jsx)(d.f,{}),"Self Control":Object(v.jsx)(d.j,{}),"Physical Appearance":Object(v.jsx)(b.e,{}),Independence:Object(v.jsx)(b.b,{}),Flexibility:Object(v.jsx)(b.w,{}),"Personal Space":Object(v.jsx)(d.k,{}),Rest:Object(v.jsx)(b.r,{}),Kindness:Object(v.jsx)(O.d,{}),Recreation:Object(v.jsx)(d.l,{}),Strength:Object(v.jsx)(d.e,{}),Wisdom:Object(v.jsx)(d.g,{}),Empathy:Object(v.jsx)(d.c,{}),Trust:Object(v.jsx)(h.a,{}),Spontaneity:Object(v.jsx)(f.a,{}),Adventure:Object(v.jsx)(b.q,{}),Integrity:Object(v.jsx)(d.i,{}),Generosity:Object(v.jsx)(d.m,{}),Patience:Object(v.jsx)(d.a,{}),Perseverance:Object(v.jsx)(b.p,{}),Mercy:Object(v.jsx)(b.j,{}),Romance:Object(v.jsx)(b.k,{}),Athleticism:Object(v.jsx)(b.n,{}),"Constructive Criticism":Object(v.jsx)(d.h,{}),Productivity:Object(v.jsx)(b.i,{}),Nature:Object(v.jsx)(j.c,{}),Peace:Object(v.jsx)(j.f,{}),Determination:Object(v.jsx)(x.c,{}),Resourcefulness:Object(v.jsx)(p.b,{}),Authority:Object(v.jsx)(O.c,{}),Hope:Object(v.jsx)(b.l,{}),Challenge:Object(v.jsx)(b.f,{}),Decisiveness:Object(v.jsx)(b.d,{}),Comfort:Object(v.jsx)(b.u,{}),Joy:Object(v.jsx)(f.c,{}),Fairness:Object(v.jsx)(p.a,{}),Affection:Object(v.jsx)(x.g,{}),Confidence:Object(v.jsx)(j.a,{}),Respect:Object(v.jsx)(x.e,{}),Discipline:Object(v.jsx)(j.b,{}),Frugality:Object(v.jsx)(x.f,{}),Suffering:Object(v.jsx)(O.a,{}),"Child-likeness":Object(v.jsx)(x.a,{}),Optimism:Object(v.jsx)(g.a,{}),Ambition:Object(v.jsx)(m.a,{}),Craftsmanship:Object(v.jsx)(x.k,{}),Vulnerability:Object(v.jsx)(j.d,{}),Family:Object(v.jsx)(d.d,{}),Boldness:Object(v.jsx)(b.m,{}),Caution:Object(v.jsx)(O.b,{}),Confrontation:Object(v.jsx)(b.f,{}),Charisma:Object(v.jsx)(x.d,{}),Ingenuity:Object(v.jsx)(p.b,{}),Teachability:Object(v.jsx)(x.l,{}),Pessimism:Object(v.jsx)(x.j,{}),Loyality:Object(v.jsx)(b.v,{}),"Self-Improvement":Object(v.jsx)(b.o,{}),Creativity:Object(v.jsx)(b.t,{}),Realism:Object(v.jsx)(f.b,{}),Enthusiasm:Object(v.jsx)(b.g,{}),"Self-care":Object(v.jsx)(d.b,{}),Spirituality:Object(v.jsx)(b.o,{}),Detachment:Object(v.jsx)(b.c,{}),Vision:Object(v.jsx)(b.a,{}),Simplicity:Object(v.jsx)(x.i,{}),"Open-mindedness":Object(v.jsx)(x.b,{}),Contentment:Object(v.jsx)(x.h,{})},S=["Adventure","Ambition","Athleticism","Artistry","Boldness","Caution","Charisma","Confrontation","Contentment","Craftsmanship","Creativity","Decisiveness","Detachment","Discipline","Empathy","Enthusiasm","Flexibility","Frugality","Independence","Ingenuity","Musical Skill","Loyality","Open-mindedness","Optimism","Patience","Perseverance","Personal Space","Physical Appearance","Realism","Romance","Self-care","Spirituality","Simplicity","Teachability","Vision","Vulnerability"];function C(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var c=[e[t],e[n]];e[n]=c[0],e[t]=c[1]}return e}var I={traits:S,columns:{column1:{id:"column1",title:"Not Valued",traitIds:[]},column2:{id:"column2",title:"Traits",traitIds:C(S)},column3:{id:"column3",title:"Valued",traitIds:[]},guessing:{id:"guessing",title:"guessing",traitIds:[]}},columnOrder:["column1","column2","column3"]},w=n(3),k=n(7);function T(e){for(var t="",n="0123456789",c=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*c));return t}var D=n(214),R=n(211),P=n(215),L=n(213),M=n(39),A=n.n(M),E=n(100),G=n.n(E);A.a.init("e338ea1bac5ef125937525a304521900",{debug:!1}),G.a.init("zwugvl/trait-ranker"),G.a.getSessionURL((function(e){A.a.track("LogRocket",{sessionURL:e})}));var F=function(e){var t=e.text,n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),j=o[0],u=o[1];return Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",spacing:2,children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(R.a,{title:"Copied to clipboard!",open:i,leaveDelay:1e3,onClose:function(){a(!1)},children:Object(v.jsx)(P.a,{variant:"contained",onClick:function(){A.a.track("Shared"),navigator.share?navigator.share({text:"Take a look at my most valued traits",url:t}).then((function(){return console.log("successful share")})).catch((function(e){return console.log("error sharing",e)})):(navigator.clipboard.writeText(t).then((function(){return console.log("Copied!")})).catch((function(){return console.log("Copy failed")})),a(!0),u(!0))},children:"Share"})})}),j&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(L.a,{children:t})})]})},N=n(115),z=n(42),H=Object(N.a)({apiKey:"AIzaSyBGLwRSqZ-ZO8O7t2Jx0J0ZNq9P5MgzkJ0",authDomain:"trait-ranker.firebaseapp.com",projectId:"trait-ranker",storageBucket:"trait-ranker.appspot.com",messagingSenderId:"387696334301",appId:"1:387696334301:web:e7d512845f69e5a2e25234",measurementId:"G-K0FPHGRC6R"}),J=Object(z.c)(H);function W(e,t){return V.apply(this,arguments)}function V(){return(V=Object(k.a)(Object(w.a)().mark((function e(t,n){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.d)(Object(z.a)(J,"Traits",t),{traits:n}).catch((function(e){console.log(e)}));case 2:console.log(Object(z.a)(J,"Traits",t),n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return B.apply(this,arguments)}function B(){return(B=Object(k.a)(Object(w.a)().mark((function e(t){var n,c,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(z.a)(J,"Traits",t),e.next=3,Object(z.b)(n);case 3:if(!(c=e.sent).exists()){e.next=10;break}return r=c.data().traits,console.log(r),e.abrupt("return",r);case 10:console.log("no doc");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=n(218),K=n(220),U=n(0),Q=function(e){var t=e.trait,n=e.index,r=Object(c.useState)(""),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),u=j[0],b=j[1];return Object(c.useEffect)((function(){setTimeout((function(){b(!0),setTimeout((function(){return s(t)}),500)}),500*n)})),Object(v.jsx)(Z.a,{className:"wideCard ".concat(u&&"flip"),style:{margin:".5vw"},children:Object(v.jsx)(K.a,{children:Object(v.jsxs)(D.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{marginTop:"-8vw"},children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(U.b.Provider,{value:{size:"9vw"},children:y[a]})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:a})})]})})})},X=function(e){var t=e.traits;return Object(v.jsx)(D.a,{container:!0,justifyContent:"center",alignItems:"center",children:t.slice(0,7).map((function(e,t){return Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(Q,{trait:e,index:t})})}))})},Y=function(e){var t=e.topTraits,n=e.userID;return Object(c.useEffect)((function(){!function(e){A.a.track("Results Step",{steps:3}),A.a.track("Ranked Traits",{"top traits":e})}(t),Object(k.a)(Object(w.a)().mark((function e(){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setting traits",t),e.next=3,W(n,t);case 3:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",style:{height:"100vh"},children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:"Top Traits"})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(X,{traits:t.reverse()})}),Object(v.jsx)(D.a,{item:!0,sx:{padding:"1rem"},children:Object(v.jsx)(F,{text:"https://nmaass.github.io/trait-ranker/#/Share/"+n})})]})},$=(n(96),n(207)),_=n(88),ee=function(e){var t=e.trait,n=e.onClick,c=Object($.a)("(min-width:1024px"),i=r.a.useRef(null);return Object(v.jsxs)("div",{className:"card rankCard",onClick:n,onMouseDown:function(e){i.current.start(e)},onMouseUp:function(e){i.current.stop(e)},children:[Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h1",{children:t})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(U.b.Provider,{value:c?{size:"6vw"}:{size:"20vw"},children:y[t]})})]}),Object(v.jsx)(_.a,{ref:i,center:!1})]})},te=n(17);var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=7,r=Object(c.useState)((null===t||void 0===t?void 0:t.currentMatch)||null),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(c.useState)((null===t||void 0===t?void 0:t.currentStanding)||[]),j=Object(l.a)(o,2),u=j[0],b=j[1],d=Object(c.useState)((null===t||void 0===t?void 0:t.isComplete)||!1),O=Object(l.a)(d,2),h=O[0],f=O[1],x=Object(c.useState)((null===t||void 0===t?void 0:t.progressPercent)||0),p=Object(l.a)(x,2),g=p[0],m=p[1],v=Object(c.useState)((null===t||void 0===t?void 0:t.comparisonStack)||[]),y=Object(l.a)(v,2),S=y[0],C=y[1],I=Object(c.useState)((null===t||void 0===t?void 0:t.mergeStack)||[]),w=Object(l.a)(I,2),k=w[0],T=w[1],D=Object(c.useState)((null===t||void 0===t?void 0:t.totalComparisons)||0),R=Object(l.a)(D,2),P=R[0],L=R[1],M=Object(c.useState)((null===t||void 0===t?void 0:t.comparisonsMade)||0),A=Object(l.a)(M,2),E=A[0],G=A[1];function F(e){if(!e||0===e.length)return f(!0),m(100),b([]),void s(null);var t=e.map((function(e){return[e]}));T([t]),L(q(e.length)),G(0),m(0),f(!1),b([]),N([t],[])}function N(e,t){if(1!==e.length||1!==e[0].length||0!==t.length){var c=e[e.length-1];if(0===c.length)return e.pop(),T(Object(te.a)(e)),void N(e,t);if(1===c.length){var r=c.shift();return e.pop(),0===e.length?(b(r.slice(0,n)),f(!0),m(100),void s(null)):(e[e.length-1]||e.push([]),e[e.length-1].push(r),T(Object(te.a)(e)),void N(e,t))}var i=c.shift(),a=c.shift();t.push({leftSublist:i,rightSublist:a,mergedSublist:[],leftIndex:0,rightIndex:0}),T(Object(te.a)(e)),C(Object(te.a)(t)),z(t)}else W(e)}function z(e){var t=e[e.length-1];if(t){var n=t.leftSublist,c=t.rightSublist,r=t.leftIndex,i=t.rightIndex,a=n&&r<n.length?n[r]:null,o=c&&i<c.length?c[i]:null;if(a&&o)s({left:a,right:o});else{var l,j;if(r<n.length)(l=t.mergedSublist).push.apply(l,Object(te.a)(n.slice(r)));if(i<c.length)(j=t.mergedSublist).push.apply(j,Object(te.a)(c.slice(i)));e.pop(),C(Object(te.a)(e)),J(t.mergedSublist,k),N(k,e)}}else N(k,e)}function H(e){var t=Object(te.a)(S),n=t[t.length-1];if(n){var c=n.leftSublist,r=n.rightSublist,i=n.mergedSublist,a=n.leftIndex,s=n.rightIndex,o=c&&c[a],l=r&&r[s];i.push(e),c&&e===o?n.leftIndex+=1:r&&e===l&&(n.rightIndex+=1),C(t),G((function(e){return e+1})),V(),z(t)}else console.warn("matchWin called after sorting is complete")}function J(e,t){1===t.length&&t.unshift([]),t[t.length-2].push(e),0===t[t.length-1].length&&t.pop(),T(Object(te.a)(t))}function W(e){var t=[];e.length>0&&e[0].length>0&&(t=e[0][0]),console.log("Final list:",t),b(t.slice(0,n)),f(!0),m(100),s(null)}function V(){var e=Math.min(E/P*100,100);m(e)}function q(e){for(var t=0,n=1;n<e;)t+=Math.ceil(e/(2*n))*n,n*=2;return t}function B(){if(0!==S.length){var e=Object(te.a)(S),t=e[e.length-1];t.mergedSublist.pop(),G((function(e){return e>0?e-1:0})),V(),t.leftIndex>0?t.leftIndex-=1:t.rightIndex>0&&(t.rightIndex-=1),C(e),h&&(f(!1),m(E/P*100));var n=t.leftSublist[t.leftIndex]||null,c=t.rightSublist[t.rightIndex]||null;n&&c?s({left:n,right:c}):(e.pop(),C(e),N(k,e))}else console.warn("No moves to revert")}Object(c.useEffect)((function(){t||F(e)}),[e]);var Z={currentMatch:a,currentStanding:u,isComplete:h,progressPercent:g,comparisonStack:S,mergeStack:k,totalComparisons:P,comparisonsMade:E};return{progressPercent:g,currentStanding:u,currentMatch:a,matchWin:H,revertMatch:B,isComplete:h,rankingState:Z}},ce=function(e){var t,n=e.topTraits,r=e.history,i=e.initalProgress,a=Object(c.useMemo)((function(){return n.slice()}),[n]);Object(c.useEffect)((function(){console.log("Memoized topTraits:",a)}),[a]);var s=ne(a,null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.ranking),o=s.progressPercent,j=s.currentMatch,u=s.matchWin,b=(s.revertMatch,s.isComplete),d=Object($.a)("(min-width:1024px)"),O=Object(c.useContext)(Ot),h=O.progress,f=O.activeStep,x=Object(l.a)(h,2),p=(x[0],x[1]),g=Object(l.a)(f,2),m=(g[0],g[1]),y=function(e){u(e),p(o)};Object(c.useEffect)((function(){console.log("isComplete:",b),b&&(m(3),r.push("/Results"))}),[b]);return n&&0!==n.length?Object(v.jsx)("div",{children:Object(v.jsxs)(D.a,{container:!0,spacing:d?60:3,alignItems:"center",justifyContent:"center",direction:d?"row":"column",children:[j&&j.left&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{trait:j.left,onClick:function(){return y(j.left)}})}),j&&j.right&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{trait:j.right,onClick:function(){return y(j.right)}})})]})}):Object(v.jsx)("div",{children:"Loading traits..."})},re=n(226),ie=n(227),ae=n(228),se=n(208),oe=n(221),le=n(212),je=n(222),ue=n(224),be=n(116),de=n.n(be),Oe=n(85),he=n.n(Oe),fe=Object(c.forwardRef)((function(e,t){return Object(v.jsx)(se.a,Object(o.a)({direction:"up",ref:t},e))})),xe=function(e){e.currentPage;var t=r.a.useState(!1),n=Object(l.a)(t,2),c=n[0],i=n[1],a=r.a.useState(!1),s=Object(l.a)(a,2),o=s[0],j=s[1],u=function(){i(!1),j(!0),setTimeout((function(){j(!1)}),1e3)},b=Object($.a)("(min-width:1024px)"),d={Selection:{title:"Selection",description:"Trait Ranker helps you discover and prioritize your most important personality traits. ".concat(b?"Drag":"Swipe "," right to mark a trait as valuable or left to skip it. Press the help button anytime for guidance."),Media:"https://i.imgur.com/7G5Jwbk.gif"}};return Object(v.jsxs)("div",{children:[Object(v.jsx)(oe.a,{size:"large",onClick:function(){i(!0)},className:"".concat(o&&"grow"),children:Object(v.jsx)(he.a,{})}),Object(v.jsxs)(le.a,{onClose:u,TransitionComponent:fe,open:c,fullScreen:!0,style:{marginTop:"10vh",marginLeft:"1vw",marginRight:"1vw"},PaperProps:{style:{borderTopLeftRadius:6,borderTopRightRadius:6}},children:[Object(v.jsx)(je.a,{children:d.Selection.title}),Object(v.jsx)(oe.a,{style:{position:"absolute",right:"0"},color:"inherit",onClick:u,"aria-label":"close",children:Object(v.jsx)(de.a,{})}),Object(v.jsx)(ue.a,{paragraph:!1,style:{margin:10},children:d.Selection.description}),Object(v.jsx)("img",{src:d.Selection.Media,style:{width:"100%"},alt:"GIF of swiping on mobile"})]})]})},pe=n.p+"static/media/logo512.3b8a96fd.png",ge=function(e){var t=e.history;return Object(v.jsx)(oe.a,{color:"inherit",onClick:function(){t.push("/")},style:{maxWidth:"10vh",maxHeight:"10vh"},children:Object(v.jsx)("img",{src:pe,alt:"The trait ranker icon",style:{maxWidth:"100%",maxHeight:"100%"}})})},me=n(225),ve=n(57),ye=n(117),Se=n.n(ye),Ce=n(118),Ie=n.n(Ce),we=n(119),ke=n.n(we),Te=n(40),De=n(125),Re=Object(De.a)({palette:{primary:{main:"#caf0f9"},secondary:{main:"#90e0ef"}}});var Pe,Le=function(e){var t=Object(ve.a)("ul")({display:"flex",flexFlow:"row nowrap",justifyContent:"space-around",padding:0,width:"100%"}),n=Object(ve.a)("li")({position:"relative",display:"flex",flexFlow:"row nowrap",justifyContent:"space-around",alignItems:"center",width:"100%"}),c=Object(ve.a)("div")((function(e){var t=e.currentStep,n=e.done;return{width:"30px",height:"30px",lineHeight:"30px",borderRadius:"50%",background:t||n?Re.palette.secondary.main:"#dedede",color:t||n?"#000":"#999",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"}})),r=Object(ve.a)("div")({display:"flex",flexFlow:"column nowrap",alignItems:"center"}),i=e.steps,a=e.current,s=e.progress;Object(Te.a)();var o=function(e){var t=e.current,n=e.step,c=e.progress;console.log(c);var r=0;return t+1===n?r=c:t>=n&&(r=100),Object(v.jsx)(me.a,{variant:"determinate",value:r,sx:{"&.MuiLinearProgress-root":{flex:"1 1 auto",position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)",backgroundColor:"#ffd8ba61"},"& .MuiLinearProgress-bar":{backgroundColor:Re.palette.secondary.main}}})};function l(e){switch(e){case 0:return Object(v.jsx)(Se.a,{});case 1:return Object(v.jsx)(Ie.a,{});case 2:return Object(v.jsx)(ke.a,{});default:return null}}return Object(v.jsx)(t,{children:i.map((function(e,t){var i=this.current,a=this.progress,s=t<i,j=t===i;return Object(v.jsxs)(n,{children:[Object(v.jsx)(r,{children:Object(v.jsx)(c,{currentStep:j,done:s,children:l(t)})}),!!t&&Object(v.jsx)(o,{current:i,step:t,progress:a})]},t)}),{current:a,progress:s})})},Me=["Label 1","Label 2","Label 3"],Ae=function(e){var t=e.history,n=Object(c.useContext)(Ot),r=n.progress,i=n.activeStep,a=Object(l.a)(r,2),s=a[0],o=(a[1],Object(l.a)(i,2)),j=o[0];o[1];return Object(v.jsx)(re.a,{sx:{flexGrow:1},children:Object(v.jsx)(ie.a,{position:"fixed",children:Object(v.jsxs)(ae.a,{children:[Object(v.jsx)(ge,{history:t}),Object(v.jsx)(Le,{steps:Me,current:j,progress:s}),Object(v.jsx)("div",{style:{marginLeft:"auto"},children:Object(v.jsx)(xe,{})})]})})})},Ee=n(26),Ge=n(75),Fe=n(29),Ne=n(47),ze=n(56),He=n(120),Je=n.n(He),We=function(e){var t=e.toggleFlipped,n=e.flipped;return Object(v.jsx)(oe.a,{onClick:t,style:{position:"absolute",top:10,right:10},children:n?Object(v.jsx)(Je.a,{}):Object(v.jsx)(he.a,{})})},Ve=function(e){var t=e.trait,n=e.provided,r=Object($.a)("(max-width:1024px)"),i=Object(c.useState)(!1),a=Object(l.a)(i,2),s=a[0],j=a[1],u=function(){j(!s)};return Object(v.jsx)("div",Object(o.a)(Object(o.a)({className:"card selection ".concat(s?"flipped":"")},n.dragHandleProps),{},{draggable:!0,id:t,children:Object(v.jsxs)("div",{className:" card-inner",children:[Object(v.jsxs)("div",{className:"card-front",children:[Object(v.jsx)(We,{toggleFlipped:u,flipped:s}),Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h1",{children:t})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(U.b.Provider,{value:r?{size:"60vw"}:{size:"6vw"},children:y[t]})})]})]}),Object(v.jsxs)("div",{className:"card-back",children:[Object(v.jsx)(We,{toggleFlipped:u,flipped:s}),Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h1",{children:t})}),Object(v.jsxs)(D.a,{item:!0,children:[Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet."}),Object(v.jsx)("p",{children:"Consectetur adipiscing elit sed."})]})]})]})]})}))},qe=ze.a.div(Pe||(Pe=Object(Fe.a)([""])));function Be(e,t){if(e=function(e){if(null!==e&&void 0!==e&&e.transform){var t="".concat(e.transform.split(",").shift(),", 0px)");return Object(o.a)(Object(o.a)({},e),{},{transform:t})}return e}(e),!t.isDropAnimating)return e;var n=t.dropAnimation,c=n.moveTo,r=n.duration,i=t.draggingOver;console.log(i);var a=0;"column1"===i?a=-100:"column3"===i&&(a=100);var s="translate(".concat(a,"vw, ").concat(c.y,"px)");return Object(o.a)(Object(o.a)({},e),{},{transform:s,transition:"all  ".concat(r+.2,"s")})}var Ze,Ke,Ue,Qe=function(e){var t=e.trait,n=e.index,c=e.wiggle;return Object(v.jsx)(Ne.b,{draggableId:t,index:n,children:function(e,n){return Object(v.jsx)(qe,Object(o.a)(Object(o.a)({},e.draggableProps),{},{ref:e.innerRef,isDragging:n.isDragging,style:Be(e.draggableProps.style,n),className:c?"wiggle-animation":"",children:Object(v.jsx)(Ve,{trait:t,provided:e})}))}},t)},Xe=(ze.a.div(Ze||(Ze=Object(Fe.a)(["\n  display: flex;\n"]))),ze.a.div(Ke||(Ke=Object(Fe.a)(["\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  display: flex;\n  min-width: ",";\n  min-height: 100vh;\n  max-width: ",";\n  ","\n"])),(function(e){return e.isDraggingOver?e.hoverColor:"white"}),(function(e){return e.isStarter?"1px":"49.9vw"}),(function(e){return e.isStarter&&"1px"}),(function(e){return e.showHoverColor&&"\n    background-color: ".concat(e.hoverColor,";\n  ")}))),Ye=function(e){var t=e.column,n=e.isStarter,i=void 0!==n&&n,a=e.hoverColor,s=void 0===a?"lightBlue":a,j=Object(c.useState)(i),u=Object(l.a)(j,2),b=u[0],d=u[1],O=Object(c.useState)(!1),h=Object(l.a)(O,2),f=h[0],x=h[1];return r.a.useEffect((function(){if(i){var e=setTimeout((function(){d(!1)}),1e3);return function(){return clearTimeout(e)}}x(!0);var t=setTimeout((function(){x(!1)}),1e3);return function(){return clearTimeout(t)}}),[i]),Object(v.jsx)(Ne.c,{droppableId:t.id,direction:"horizontal",children:function(e,n){return Object(v.jsx)(Xe,Object(o.a)(Object(o.a)({classname:"cards stack",ref:e.innerRef,isStarter:i,hoverColor:s,isDraggingOver:n.isDraggingOver,showHoverColor:f,S:!0},e.droppableProps),{},{children:Object(v.jsx)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(v.jsxs)(D.a,{item:!0,margin:"auto",children:[i&&Object(v.jsx)(Qe,{trait:null===t||void 0===t?void 0:t.traitIds[0],index:null===t||void 0===t?void 0:t.traitIds.indexOf(null===t||void 0===t?void 0:t.traitIds[0]),wiggle:b},null===t||void 0===t?void 0:t.traitIds[0]),e.placeholder]})})}))}},t.id)},$e=function(e){e.setTopTraits,e.history,e.setActiveStepState;return null},_e=["Drag traits to the right if you value them, left if not"],et=(n(210),n(223)),tt=function(e){var t=e.columnData,n=e.setTopTraits,r=e.history,i=e.swipeHandlers,a=e.topTraits;Object($.a)("(min-width:1024px");Object(c.useEffect)((function(){0===t.columns.column2.traitIds.length&&function(e){e.length<7?t.columns.column2.traitIds=t.columns.column1.traitIds:e.length>24?t.columns.column2.traitIds=t.columns.column3.traitIds:(console.log(t.columns.column3.traitIds),n(t.columns.column3.traitIds),f(1),O(0),r.push("/Rank"))}(t.columns.column3.traitIds)}),[t,r,n,a]);var s=Object(c.useContext)(Ot),j=s.progress,u=s.activeStep,b=Object(l.a)(j,2),d=b[0],O=b[1],h=Object(l.a)(u,2),f=(h[0],h[1]),x=Object(c.useContext)(ht).tutorialStrings,p=Object(l.a)(x,2),g=(p[0],p[1]),m=Object(c.useRef)(t.columns.column2.traitIds.length);Object(Ee.f)().id;return Object(c.useEffect)((function(){0!==t.columns.column2.traitIds.length&&O(d+100/m.current)}),[t]),Object(c.useEffect)((function(){console.log("setting tutorial strings",_e),g(_e)}),[g]),Object(v.jsxs)(re.a,{children:[Object(v.jsx)($e,{setTopTraits:n,history:r,setActiveStepState:f}),Object(v.jsx)("div",Object(o.a)(Object(o.a)({},i),{},{children:Object(v.jsxs)(D.a,{container:!0,spacing:0,wrap:"nowrap",children:[Object(v.jsx)(Ye,{column:t.columns.column1,hoverColor:"LightPink"},t.columns.column1.id),Object(v.jsx)(Ye,{column:t.columns.column2,isStarter:!0,hoverColor:""},t.columns.column2.id),Object(v.jsx)(Ye,{column:t.columns.column3,hoverColor:"LightGreen"},t.columns.column3.id)]})}))]})},nt=n(126),ct=function(e){var t=e.trait,n=e.index,r=e.color,i=e.isDraggable,a=Object(c.useState)(""),s=Object(l.a)(a,2),j=s[0],u=s[1],b=Object(c.useState)(""),d=Object(l.a)(b,2),O=d[0],h=d[1],f=Object(c.useRef)(!0);return Object(c.useEffect)((function(){1!=f.current?(setTimeout((function(){u(!0),setTimeout((function(){return h(r)}),250)}),500*n),u(!1)):f.current=!1}),[r]),Object(v.jsx)(Ne.b,{draggableId:t,index:n,isDragDisabled:!i,children:function(e){return Object(v.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({},e.dragHandleProps),e.draggableProps),{},{ref:e.innerRef,children:Object(v.jsx)(Z.a,{className:"wideCard ".concat(j?"bounce":""),sx:{backgroundColor:O},children:Object(v.jsx)(D.a,{container:!0,justifyContent:"center",children:Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)("h3",{children:t})})})})}))}})},rt=ze.a.div(Ue||(Ue=Object(Fe.a)([""]))),it=function(e){var t=e.column,n=e.colors,c=e.isDraggable;return Object(v.jsx)("div",{children:Object(v.jsx)(Ne.c,{droppableId:t.id,children:function(e,r){return Object(v.jsx)(rt,Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:r.isDraggingOver,children:Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[t.traitIds.map((function(e,r){return Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ct,{trait:e,index:t.traitIds.indexOf(e),color:n[r],isDraggable:c})},e)})),e.placeholder]})}))}},t.id)})},at=function(e){var t=e.history,n=e.source;return Object(v.jsx)(P.a,{onClick:function(){!function(e){A.a.track("Share Conversion",{Source:e})}(n),t.replace("/")},variant:"contained",children:"Try it!"})},st=function(e){var t=e.column,n=e.onDone,c=e.colors,r=e.showTryIt,i=e.history,a=e.isDraggable,s=e.showLockIn;return Object(v.jsxs)(D.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(it,{column:t,colors:c,isDraggable:a})}),Object(v.jsxs)(D.a,{item:!0,sx:{paddingTop:"4vh"},children:[s&&Object(v.jsx)(P.a,{onClick:n,variant:"contained",children:"Lock in"}),r&&Object(v.jsx)(at,{history:i})]})]})},ot=function(e){var t=e.traits,n=e.columnData,r=e.setColumnData,i=e.history,a=Object(c.useRef)(C(t.slice(0,7))),s=Object(c.useRef)([]),j=I.columns.column2.traitIds,u=Object(c.useRef)([]),b=Object(c.useState)([]),d=Object(l.a)(b,2),O=d[0],h=d[1],f=Object(c.useState)(!0),x=Object(l.a)(f,2),p=x[0],g=x[1],m=Object(c.useState)([]),y=Object(l.a)(m,2),S=y[0],w=y[1],k=Object(c.useState)(!0),T=Object(l.a)(k,2),R=T[0],P=T[1],L=Object(c.useState)(!1),M=Object(l.a)(L,2),E=M[0],G=M[1],F=Object(c.useState)(!1),N=Object(l.a)(F,2),z=N[0],H=N[1],J=Object(c.useState)(!0),W=Object(l.a)(J,2),V=W[0],q=W[1];Object(c.useEffect)((function(){for(;s.current.length<7;)a.current.includes(j[0])||s.current.push(j[0]),j=j.splice(1,j.length);Z()}),[j]);var B=function(e){if(u.current.push(e),0===a.current.length){var t=Object(o.a)(Object(o.a)({},n.columns.guessing),{},{traitIds:u.current}),c=Object(o.a)(Object(o.a)({},n),{},{columns:Object(o.a)(Object(o.a)({},n.columns),{},{guessing:t})});r(c),i=c.columns.guessing,A.a.track("Guessed",{"Guessed traits":i}),G(!0),P(!1)}var i;Z()},Z=function(){w(C([a.current.pop(),s.current.pop()])),console.log("TraitsLeft: ",a.current),console.log("WrongTaits: ",s.current),console.log(u.current)},K=Object($.a)("(min-width:1024px)");return Object(v.jsxs)("div",{children:[R&&Object(v.jsxs)(D.a,{container:!0,spacing:K?60:3,alignItems:"center",justifyContent:"center",direction:K?"row":"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{onClick:function(){return B(S[0])},trait:S[0]})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{onClick:function(){return B(S[1])},trait:S[1]})})]}),E&&Object(v.jsx)(st,{column:n.columns.guessing,onDone:function(){console.log("done!");for(var e=[],c=t.slice(0,7),r=n.columns.guessing.traitIds,i=0;i<c.length;i++)c[i]===r[i]?(e.push("green"),console.log("correct",c[i],r[i])):c.includes(r[i])?(e.push("gold"),console.log("in there",c[i],r[i])):(e.push("LightGray"),console.log("incorrect",c[i],r[i]));h(e),H(!0),q(!1),g(!1)},colors:O,showTryIt:z,showLockIn:V,history:i,isDraggable:p})]})},lt=function(e){var t=e.columnData,n=e.setColumnData,r=e.history,i=Object(Ee.f)().id,a=Object(c.useState)([]),s=Object(l.a)(a,2),o=s[0],j=s[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),d=b[0],O=b[1],h=Object(c.useState)(!1),f=Object(l.a)(h,2),x=f[0],p=f[1],g=Object(c.useState)(!0),m=Object(l.a)(g,2),y=m[0],S=m[1],C=Object($.a)("(min-width:1024px)");Object(c.useEffect)((function(){Object(k.a)(Object(w.a)().mark((function e(){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(i).then((function(e){j(e)}));case 2:case"end":return e.stop()}}),e)})))()}),[i]);return console.log("storedTraits",o),Object(v.jsxs)(D.a,{container:!0,spacing:C?60:3,alignItems:"center",justifyContent:"center",direction:C?"row":"column",children:[y&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{onClick:function(){A.a.track("Guess Traits"),p(!0),S(!1)},trait:"Guess the traits"})}),y&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ee,{onClick:function(){A.a.track("Show Traits"),O(!0),S(!1)},trait:"Show the traits"})}),d&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsxs)(D.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(et.a,{variant:C?"h3":"h5",color:"black",children:"Top traits"})}),Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(X,{traits:o})}),Object(v.jsx)(D.a,{item:!0,style:{marginTop:"5vw"},children:Object(v.jsx)(at,{history:r,source:"Guess"})})]})}),x&&Object(v.jsx)(D.a,{item:!0,children:Object(v.jsx)(ot,{traits:o,columnData:t,setColumnData:n,history:r})})]})},jt=n(124),ut=n(104),bt=n.n(ut),dt=n(216),Ot=Object(c.createContext)(),ht=Object(c.createContext)(),ft=function(){var e=Object(Ee.e)(),t=Object(c.useState)(I),n=Object(l.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(I.columns.column2.traitIds.slice(0,18)),j=Object(l.a)(a,2),u=j[0],b=j[1],d=Object(c.useState)(function(e){var t=T(e);return A.a.track("Session Start",{steps:1}),A.a.people.increment("sessions",1),t}(6)),O=Object(l.a)(d,2),h=O[0],f=(O[1],Object(c.useState)(0)),x=Object(l.a)(f,2),p=x[0],g=x[1],m=Object(c.useState)(0),y=Object(l.a)(m,2),S=y[0],C=y[1],w=Object(c.useState)([]),k=Object(l.a)(w,2),D=k[0],R=k[1],P=Object(c.useRef)(null);nt.a.initialize("G-4RLGL8ENZC");function L(e){var t=P.current;if(!t)return console.warn("unable to find sensor api"),null;var n={x:0,y:0},c={x:"right"===e?100:-100,y:0},i=t.tryGetLock(r.columns.column2.traitIds[0]);if(!i)return console.warn("unable to start capturing"),null;for(var a=i.fluidLift(n),s=[],o=0;o<20;o++)s.push({x:bt.a.easeOutCirc(o,n.x,c.x,20),y:bt.a.easeOutCirc(o,n.y,c.y,20)});E(a,s)}var M=Object(jt.a)({onSwipedLeft:function(){console.log("left swiped"),L("left")},onSwipedRight:function(){console.log("right swiped"),L("right")}});function E(e,t){requestAnimationFrame((function(){var n=t.shift();e.move(n),t.length?E(e,t):e.drop()}))}return Object(c.useEffect)((function(){window.addEventListener("touchmove",(function(e){e.preventDefault()}))}),[]),Object(v.jsx)("div",{children:Object(v.jsx)(Ne.a,{onDragEnd:function(e){var t,n=e.destination,c=e.source,a=e.draggableId;if(n&&(n.droppableId!==c.droppableId||n.index!==c.index)){var l=r.columns[c.droppableId],j=r.columns[n.droppableId];if(l!==j){var u=Array.from(l.traitIds);u.splice(c.index,1);var b=Object(o.a)(Object(o.a)({},l),{},{traitIds:u}),d=Array.from(j.traitIds);d.splice(n.index,0,a);var O=Object(o.a)(Object(o.a)({},j),{},{traitIds:d}),h=Object(o.a)(Object(o.a)({},r),{},{columns:Object(o.a)(Object(o.a)({},r.columns),{},(t={},Object(s.a)(t,b.id,b),Object(s.a)(t,O.id,O),t))});i(h)}else{var f=Array.from(l.traitIds);f.splice(c.index,1),f.splice(n.index,0,a);var x=Object(o.a)(Object(o.a)({},l),{},{traitIds:f}),p=Object(o.a)(Object(o.a)({},r),{},{columns:Object(o.a)(Object(o.a)({},r.columns),{},Object(s.a)({},x.id,x))});i(p)}}},sensors:[function(e){P.current=e}],children:Object(v.jsx)(Ot.Provider,{value:{progress:[S,C],activeStep:[p,g]},children:Object(v.jsx)(ht.Provider,{value:{tutorialStrings:[D,R]},children:Object(v.jsxs)(dt.a,{theme:Re,children:[Object(v.jsx)(Ae,{history:e}),Object(v.jsx)(Ee.a,{path:"/:id?",children:Object(v.jsx)(tt,{columnData:r,topTraits:u,setTopTraits:b,setColumnData:i,history:e,swipeHandlers:M})}),Object(v.jsx)(Ee.a,{path:"/Rank",children:Object(v.jsx)(ce,{topTraits:u,setTopTraits:b,history:e,initalProgress:S})}),Object(v.jsx)(Ee.a,{path:"/Results",children:Object(v.jsx)(Y,{topTraits:u,setTopTraits:b,userID:h})}),Object(v.jsx)(Ee.a,{path:"/Share/:id",children:Object(v.jsx)(lt,{columnData:r,setColumnData:i,history:e})})]})})})})})},xt=function(){return Object(v.jsx)(Ge.a,{basename:"/trait-ranker",children:Object(v.jsx)(ft,{})})};a.a.render(Object(v.jsx)(xt,{}),document.querySelector("#root"))},96:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.732f13d4.chunk.js.map